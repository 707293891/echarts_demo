webpackJsonp([0],{"+wTH":function(t,e){},"0xUY":function(t,e){},"42Hy":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("mvHQ"),n=o.n(i),r={name:"ehShow",props:{id:{type:String,require:!0},option:{type:Object,require:!0}},methods:{handleClick:function(t){console.log(this),this.$msgbox({title:t,message:"id"===t?this.$options.propsData.id:n()(this.$options.propsData.option),customClass:"optionClass"})}},mounted:function(){var t=this.$echarts.init(document.getElementById(this.$options.propsData.id));t.setOption(this.$options.propsData.option),this.reszieArray.push(t.resize)}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{xs:{span:24},sm:{span:12},md:{span:6}}},[o("div",{staticClass:"eh_div",attrs:{id:t.id}}),t._v(" "),o("div",{staticClass:"control"},[o("el-tooltip",{attrs:{content:"查看id"}},[o("i",{staticClass:"el-icon-edit cursor",on:{click:function(e){t.handleClick("id")}}})]),t._v(" "),o("el-tooltip",{attrs:{content:"查看option"}},[o("i",{staticClass:" el-icon-view cursor",on:{click:function(e){t.handleClick("option")}}})])],1)])},staticRenderFns:[]};var s={name:"EhExample",components:{ehShow:o("VU/8")(r,a,!1,function(t){o("+wTH")},null,null).exports},data:function(){return{charts:[]}},methods:{initEcharts:function(t){t=t||"line";var e=this,o=new e.$query("eh_option");o.equalTo("type",t),o.find().then(function(t){e.charts.splice(0,e.charts.length);for(var o=0;o<t.length;o++)e.charts.push({id:t[o].id,option:t[o].get("option")})})}},watch:{$route:function(t,e){this.initEcharts(t.params.type)}},mounted:function(){this.initEcharts(this.$route.params.type)}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{attrs:{gutter:20}},this._l(this.charts,function(t){return e("eh-show",{key:t.id,attrs:{option:t.option,id:t.id}})}))},staticRenderFns:[]};var p={name:"Index",components:{EhExample:o("VU/8")(s,l,!1,function(t){o("ShW1")},"data-v-83550a44",null).exports},data:function(){return{items:[],form:{addOption:!0,addType:!1},dialogFormVisible:!1}},methods:{handleCommand:function(t){switch(this.dialogFormVisible=!0,t){case"option":this.form.addOption=!0,this.form.addType=!1;break;case"type":this.form.addOption=!1,this.form.addType=!0}},handleSave:function(){var t=this,e=this,o=e.form;this.items.forEach(function(t){!o.addType||o.type!==t.type&&o.typeName!==t.name||(e.$alert("已有相同类型的图表"),o.type=null)});var i=o.addOption?"form1":"form2";this.$refs[i].validate(function(i){i&&(e.form.addOption?e.$addOption(o.option,o.type):e.form.addType&&e.$addType(o.type,o.typeName),t.dialogFormVisible=!1)})}},mounted:function(){var t=this,e=new t.$query("eh_type");e.ascending("order"),e.find().then(function(e){for(var o=0;o<e.length;o++)t.items.push({id:e[o].id,type:e[o].get("type"),name:e[o].get("type_name")})})}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",{staticStyle:{"line-height":"60px","background-color":"#545c64"}},[o("el-dropdown",{on:{command:t.handleCommand}},[o("el-button",{staticStyle:{"background-color":"#545c64","border-color":"#545c64",color:"white"},attrs:{circle:"",icon:"el-icon-setting"}}),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"option"}},[t._v("添加图表")]),t._v(" "),o("el-dropdown-item",{attrs:{command:"type"}},[t._v("添加类型")])],1)],1),t._v(" "),o("div",{staticStyle:{display:"inline-block","margin-left":"48%"}},[o("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover"}},[o("div",[o("p",[t._v("本页面用于展示echarts示例,主要有以下功能：")]),t._v(" "),o("p",[t._v("1：直接获取option使用，点击图表下方"),o("i",{staticClass:"el-icon-view"}),t._v("可获取option")]),t._v(" "),o("p",[t._v("2：为本页面增加echarts示例：通过添加option以及对应的type，来为本页面新增一个示例。option需采用JSON格式。")]),t._v(" "),o("p",[t._v("3：为本页面增加echarts类型：通过type和type名字，来为左边菜单新增一个类型。")])]),t._v(" "),o("i",{staticClass:"el-icon-document",staticStyle:{color:"white",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),t._v(" "),o("div",{staticStyle:{float:"right"}},[o("a",{staticStyle:{color:"white"},attrs:{href:"https://github.com/707293891/echarts_demo",target:"_blank"}},[t._v("在github上查看")])])],1),t._v(" "),o("el-container",{staticStyle:{"margin-top":"20px"}},[o("el-aside",{attrs:{width:"200px"}},[o("el-menu",{attrs:{"background-color":"#545c64","text-color":"#fff",router:!0,"default-active":"0","active-text-color":"#ffd04b"}},t._l(t.items,function(e,i){return o("el-menu-item",{key:e.id,attrs:{index:i+"",route:{name:"index",params:{type:e.type}}}},[o("i",{staticClass:"el-icon-setting"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])}))],1),t._v(" "),o("el-main",[o("eh-example")],1)],1),t._v(" "),o("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:"添加信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{directives:[{name:"show",rawName:"v-show",value:t.form.addOption,expression:"form.addOption"}],ref:"form1",attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"option内容",required:!0,prop:"option"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入option内容，保证json格式"},model:{value:t.form.option,callback:function(e){t.$set(t.form,"option","string"==typeof e?e.trim():e)},expression:"form.option"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"类型",required:!0,prop:"type"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择图表类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.items,function(t){return o("el-option",{key:t.type,attrs:{value:t.type,label:t.name}})}))],1)],1),t._v(" "),t.form.addType?o("el-form",{ref:"form2",attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"类型名称",required:!0,prop:"typeName"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"如：饼图，柱状图，线型图"},model:{value:t.form.typeName,callback:function(e){t.$set(t.form,"typeName","string"==typeof e?e.trim():e)},expression:"form.typeName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"类型编码",required:!0,prop:"type"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"如：pie，bar，line"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type","string"==typeof e?e.trim():e)},expression:"form.type"}})],1)],1):t._e(),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=o("VU/8")(p,c,!1,function(t){o("0xUY")},"data-v-5afe7ec8",null);e.default=d.exports},ShW1:function(t,e){},mvHQ:function(t,e,o){t.exports={default:o("qkKv"),__esModule:!0}},qkKv:function(t,e,o){var i=o("FeBl"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}}});